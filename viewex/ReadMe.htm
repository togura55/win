<!--このヘルプ ファイルの内容を表示するには、
ソリューション エクスプローラ ペインでファイルを右クリックし、
[ブラウザで表示] をクリックしてください。-->

<html><head><title>VIEWEX サンプル : マルチ ビュー、スクロール ビュー、および分割ウィンドウ</title></head><body><h1>VIEWEX サンプル : マルチ ビュー、スクロール ビュー、および分割ウィンドウ</h1><div id="mainSection"><div id="mainBody"><div id="allHistory" class="saveHistory" onsave="saveAll()" onload="loadAll()"></div><h1 class="heading" >
  サンプル ファイル :
</h1><p /><p>VIEWEX サンプルでは、次の内容を示します。  </p><ul><li><p>静的な分割ウィンドウ。ペインの順序と番号は固定です。通常、ペインのビュー クラスは異なります。</p></li><li><p>フォーム ビュー (<b>CFormView</b>)。同じドキュメントのほかのビューと一致します。</p></li><li><p>ダイアログ データ エクスチェンジ (DDX: Dialog Data Exchange)。特に、オプション グループ ボタンのデータ用です。</p></li></ul><p>VIEWEX のドキュメントは単純です。データは文字列と色で構成されます。</p><div class="alert"><table width="100%" cellspacing="0" cellpadding="0"><tr><th align="left">セキュリティに関するメモ </th></tr><tr><td><p>このサンプル コードは概念を示す目的で提供されているものです。必ずしも最も安全なコーディング手法に従っているわけではないので、アプリケーションまたは Web サイトでは使用しないでください。Microsoft は、サンプル コードが意図しない目的で使用された場合に、付随的または間接的な損害について責任を負いません。</p></td></tr></table></div><h1 class="heading">サンプルのビルドと実行</h1><div id="sectionSection0" class="seeAlsoNoToggleSection"><h3 class="subHeading">VIEWEX サンプルをビルドおよび実行するには</h3><div class="subSection"><ol><li><p>ソリューション viewex.sln を開きます。 </p></li><li><p>[ビルド] メニューの [ビルド] をクリックします。 </p></li><li><p>[デバッグ] メニューの [デバッグなしで開始] をクリックします<b></b>。 </p></li></ol></div><p>最初に VIEWEX を実行すると、[新規] ダイアログ ボックスが表示されます。ここでは、表示されるドキュメント ウィンドウの種類を選択します。  </p><ul><li><p>
[Simple Text] は、ウィンドウの中央に現在の色を使用して文字列を表示します。</p></li><li><p>
[Input Form View] には、フォーム (<b>CFormView</b>) が用意されています。このフォームでは、エディット コントロール内の文字列を変更したり、オプション ボタン グループのボタンをクリックして色を変更したりできます。</p></li><li><p>
[Splitter Frame with both] には、文字列表示ビューと入力フォームがあり、この 2 つのペインが横に並ぶ分割ウィンドウが表示されます。入力フォームで文字列 (文字単位) または色を変更すると、変更内容は、自動的に文字列表示ビューに反映されます。</p></li><li><p>
[Three-way Splitter Frame] は、分割ウィンドウの 1 つのペインに入力フォームを表示します。もう 1 つのペインは、分割バーによって 2 つのサブペインに分かれています。上のサブペインには文字列表示ビュー、下のサブペインにはカラー ビューがそれぞれ表示されます。カラー ビューは全体が現在の色で塗りつぶされています。</p></li></ul><p>入力フォームのエディット コントロールを使用して、[Edit] メニューの [Change Data] をクリックすると、文字列を変更できます。</p><p>また、同時に複数のドキュメントを表示することもできます。ただし、例を簡単にするために、ドキュメントを保存したり再び開いたりすることはできません。また、上に示した複数のウィンドウに同じドキュメントを表示することもできません。</p></div><h1 class="heading">静的な分割ウィンドウ</h1><div id="sectionSection1" class="seeAlsoNoToggleSection"><p>VIEWEX では、MDI 子ウィンドウが <b>OnCreateClient</b> をオーバーライドすることによってクライアント領域に 2 分割ウィンドウを作成します。3 分割の場合、VIEWEX では、2 分割ウィンドウの右側のペインをさらに 2 分割します。 </p><p>VIEWEX は、動的な分割ウィンドウの代わりに静的な分割ウィンドウを作成するときに、<b>CSplitterWnd::Create</b> ではなく <b>CSplitterWnd::CreateStatic</b> を呼び出します。VIEWEX の分割ウィンドウの各ペインは、ビュー クラスが異なります。VIEWEX は <b>CSplitterWnd::CreateView</b> を呼び出して、各ペインの <b>CView</b> の派生クラスを指定します。最初のペインの場合、VIEWEX はドキュメント テンプレート オブジェクトで固有のビュー クラスを使用します。これは、<b>CCreateContext</b> の <b>m_pNewViewClass</b> メンバで <b>OnCreateClient</b> に渡されます。その他のペインの場合、VIEWEX はビューの <b>RUNTIME_CLASS</b> を指定します。</p></div><h1 class="heading">フォーム ビュー</h1><div id="sectionSection2" class="seeAlsoNoToggleSection"><p><b>CInputView</b> では、フォーム ビューとほかのビューとの同期を示しています。ユーザーがいずれかのフィールドにデータを入力すると、変更内容がすぐにほかのビューに反映されます。このように同期化するために、<b>CInputView</b> では、すべてのコントロールの <b>ON_EN_CHANGE</b> と <b>ON_BN_CLICKED</b> を <b>OnDataChange</b> メッセージ ハンドラに対応付けています。<b>OnDataChange</b> は <b>CView::UpdateData</b> を呼び出して、画面のデータを <b>CInputView</b> のメンバ変数に転送し、次にドキュメントの <b>UpdateAllViews</b> を呼び出して変更内容をその他のビューに通知します。</p></div><h1 class="heading">ダイアログ データ エクスチェンジ (DDX)</h1><div id="sectionSection3" class="seeAlsoNoToggleSection"><p>VIEWEX の <b>CInputView</b> では、オプション グループ ボタン データのダイアログ データ エクスチェンジ (DDX: Dialog Data Exchange) を示しています。Iputvw.h では、オプション グループの最初のボタンだけが <b>CInputView::DoDataExchange </b>のメンバ変数 <code>m_iColor</code> に割り当てられています。<code>m_iColor</code> は、選択されているオプション ボタンを表す、0 から始まる序数値 (<b>int</b>) です。 </p></div><h1 class="heading">キーワード</h1><div id="sectionSection4" class="seeAlsoNoToggleSection"><p>このサンプルでは、次のキーワードを使用します。</p><p>CDC::FillRect; CDialog::DoModal; CDocument::OnNewDocument; CDocument::UpdateAllViews; CFrameWnd::LoadFrame; CFrameWnd::OnCreateClient; CFrameWnd::SetActiveView; CObject::Serialize; CRect::Height; CRect::Width; CSplitterWnd::CreateStatic; CSplitterWnd::CreateView; CSplitterWnd::GetPane; CSplitterWnd::IdFromRowCol; CString::GetLength; CView::GetDocument; CView::OnActivateView; CView::OnDraw; CView::OnUpdate; CWinApp::AddDocTemplate; CWinApp::InitInstance; CWinApp::OnFileNew; CWnd::DoDataExchange; CWnd::GetClientRect; CWnd::OnMouseActivate; CWnd::ShowWindow; CWnd::UpdateData; CWnd::UpdateWindow; RGB; SetBkMode; SetTextAlign; SetTextColor; TextOut; max</p><div class="alert"><table width="100%" cellspacing="0" cellpadding="0"><tr><th align="left">メモ </th></tr><tr><td><p>このサンプルを含む一部のサンプルには、Visual C++ のウィザード、ライブラリ、およびコンパイラの変更が反映されていませんが、必要なタスクを実行する方法は示されています。 </p></td></tr></table></div></div><h1 class="heading"><span id="seeAlsoNoToggle">参照</span></h1></div><div id="footer"><div class="footerLine"></div>
        このトピックについてのご提案や障害報告をお送りいただく場合は、<a href="http://go.microsoft.com/fwlink/?linkid=53178">こちら</a>を参照してください。
      </div></div></body></html>
